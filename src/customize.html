<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>Settings</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="Keywords" content="customization">
    <meta name="Description" content="personalized legend">

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Chivo|Concert One|Chewy|Oregano|Rancho|Pacifico|Comic Neue|Inter">

    <link rel="stylesheet" href="minutiae.css">

    <script src="https://kit.fontawesome.com/bd7b8bc6e4.js" crossorigin="anonymous"></script>

    <style>
        /* CSS for overlay - mobile is default */
        #overlay {
            position: absolute;
            width: 88%;
            height: 85%;
            top: 12%;
            left: 6%;

            background-color: #FFFFFF;
            border: 2px solid #000000;

            z-index: -1;
        }

        #categories-label {
            font-family: var(--font-family);
            display: flex;
            justify-content: center;
            margin-top: 6%;

            z-index: 15;
        }

        #tags-label {
            font-family: var(--font-family);
            display: flex;
            justify-content: center;
            margin-top: 90%;

            z-index: 15;
        }

        #line1 {
            content: "";
            width: 100%;
            height: 2px;
            position: absolute;
            top: 50%;
            background-color: black;
        }

        #line2 {
            content: "";
            width: 100%;
            height: 2px;
            position: absolute;
            top: 72%;
            background-color: black;
        }

        #blurred-overlay {
            width: 88%;
            height: 24%;

            position: absolute;
            top: 73%;
            left: 6%;

            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px); /* For Safari and some versions of Chrome */
            
            z-index: 11;
            display: none;
        }

        /* CSS for close icons and names of forms */
        #close-add-category, #close-delete-category, #close-rename-category, #close-change-color, #close-add-tag, #close-delete-tag, #close-rename-tag {
            position: absolute;
            top: 0;
            right: 0;

            border: none;
            background-color: transparent;
            cursor: pointer;
        }

        .close-icon {
            width: 32px;
            height: 32px;
        }

        #add-category-name, #delete-category-name, #rename-category-name, #close-change-color, #close-add-tag, #close-delete-tag, #close-rename-tag {
            height: 15%;
            font-size: 1em;
            padding: 0.3em;
        }

        /* CSS for forms */
        #categoryForm,
        #deleteForm,
        #renameForm,
        #changeColorForm,
        #addTagForm,
        #deleteTagForm,
        #renameTagForm {
            font-family: var(--font-family);
            display: none;
            position: absolute;
            top: 85%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 0.3em;
            background-color: #D9D9D9;
            border: 2px solid black;
            z-index: 12;

            width: 76%;
        }

        .inline-label {
            display: inline-block;
            font-size: 0.8em;
            width: 40px;
        }

        .long-inline-label {
            display: inline-block;
            font-size: 0.8em;
            width: 100px;
        }

        .block-label {
            font-size: 0.8em;
        }

        .align-vertical {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            margin-left: 3%;
            padding: 10px;
        }

        .name-horizontal {
            display: flex;
            align-items: center;

            width: 100%;
        }

        .color-horizontal {
            display: flex;
            align-items: center;

            width: 100%;
        }

        #options, #optionsForDelete, #optionsForRename, #optionsForChangeColor, #tagOptionsToDelete, #tagOptionsForRename {
            width: 100%;
        } 

        #optionsForChangeColor {
            margin-top: 10px;
        }

        .align-vertical > *:not(:last-child) {
            margin-bottom: 7px; 
        } 

        #submit-category {
            margin-left: 40%;
        }

        #colorInputForNewCategory, #textInput, #tagName {
            margin-left: 2%;
        }

        #textInput, #renameValue, #tagRenameValue{
            width: 105%;
        }

        #tagName {
            width: 103%;
        }

        #submit-delete-category, #submit-add-tag, #submit-delete-tag {
            margin-left: 80%;
            margin-bottom: 10px;
        }

        #submit-rename-category, #submit-change-color, #submit-rename-tag {
            margin-left: 79%;
            margin-bottom: 10px;
        }

        #optionsForDelete, #tagOptionsToDelete {
            margin-bottom: 10px;
        }

        /* CSS for submit buttons in forms */
        #submit-category, #submit-delete-category, #submit-rename-category, #submit-change-color, #submit-add-tag, #submit-delete-tag, #submit-rename-tag {
            font-family: var(--font-family), sans-serif;
            font-size: 0.7em;

            position: relative;

            padding: 0.3em;

            z-index: 9; /*9*/

            cursor: pointer;
            text-align: center;

            color: black;
            border: 0.1em solid #1b1b1b;
            background-color: #F7F0F5; 
            box-shadow: 0 4px 4px #000000; 
        }

        /* CSS for buttons and their locations */
        #addCategoryButton,
        #deleteButton,
        #renameButton,
        #changeColorButton,
        #addTag,
        #deleteTag,
        #renameTag,
        #viewTree {
            font-family: var(--font-family), sans-serif;
            font-size: 0.7em;

            position: relative;

            padding: 0.3em;
            margin: 1em;

            z-index: 9; /*9*/

            cursor: pointer;
            text-align: center;

            color: black;
            border: 0.1em solid #1b1b1b;
            background-color: #F7F0F5; 
            box-shadow: 0 4px 4px #000000; 
        }

        #addCategoryButton {
            position: absolute;
            left: 24%;
            top: 75%;
        }

        #deleteButton {
            position: absolute;
            left: 24%;
            top: 80%;
        }

        #renameButton {
            position: absolute;
            left: 24%;
            top: 85%;
        }

        #changeColorButton {
            position: absolute;
            left: 24%;
            top: 90%;
        }

        #addTag {
            position: absolute;
            left: 30%;
            top: 75%;
        }

        #deleteTag {
            position: absolute;
            left: 30%;
            top: 80%;
        }

        #renameTag {
            position: absolute;
            left: 30%;
            top: 85%;
        }

        #viewTree {
            position: absolute;
            left: 30%;
            top: 90%;
        }

        .hidden {
            display: none;
        }

        .visible {
            display: block;
        }

        /* CSS for deactivated links */
        .deactivated-link {
            cursor: not-allowed;
            color: #999999;
            text-decoration: line-through;
            opacity: 0.6;
            pointer-events: none;
        }

        .dark-mode #addCategoryButton,
        .dark-mode #deleteButton,
        .dark-mode #renameButton,
        .dark-mode #changeColorButton,
        .dark-mode #addTag,
        .dark-mode #deleteTag,
        .dark-mode #renameTag,
        .dark-mode #viewTree {
            border: 0.2em solid white;
        }

        .light-mode #addCategoryButton,
        .light-mode #deleteButton,
        .light-mode #renameButton,
        .light-mode #changeColorButton,
        .light-mode #addTag,
        .light-mode #deleteTag,
        .light-mode #renameTag,
        .light-mode #viewTree {
            border: 0.2em solid black;
        }

        /*Legend Specific Styles*/
        /* CSS for folders */
        #folder-container {
            height: 60%;
            width: 50%;

            position: absolute;
            top: 15%;
            left: 50%;
            transform: translateX(-50%);

            border: 2px solid black;
            background-color: #D9D9D9;

            overflow: auto;
            white-space: nowrap;

            z-index: 1;
        }

        .dark-mode #folder-container {
            border: 2px solid white;
        }

        .light-mode #folder-container {
            border: 2px solid black;
        }

        /* #remake-dropdown-container {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        } */
        .fa-solid.fa-chevron-right {
            margin: 0.3em;
        }

        .fa-solid.fa-angle-down {
            margin: 0.3em;
        }

        .fa-solid.fa-folder {
            margin: 0.3em;
        }

        /* CSS for tree related things */
        /* button */
        /* #viewTree {
            font-family: var(--font-family), sans-serif;
            font-size: var(--font-size);

            position: absolute;
            right: 0;
            bottom: 0;

            padding: 0.3em;
            margin: 1em;

            z-index: 1;
        } */

        /* backdrop */
        #tree-backdrop {
            font-family: var(--font-family);
            letter-spacing: 1px;
            word-spacing: 2px;

            width: 40%;
            height: 60%;

            position: absolute;
            right: 1%;
            top: 26%;

            display: none;

            overflow: auto;

            z-index: 10;
        }

        .dark-mode #tree-backdrop {
            background-color: black;
            border: 2px solid white;
        }

        .light-mode #tree-backdrop {
            background-color: white;
            border: 2px solid black;
        }

        #title {
            font-family: var(--font-family);
            font-size: 3em;
            letter-spacing: 2px;

            display: flex;
            justify-content: center;
        }

        #submit-initialization {
            font-family: var(--font-family);
            font-size: 1.3em;

            position: absolute;
            bottom: 0%;
            right: 0%;

            display: none;
            z-index: 30;

            cursor: pointer;
        }

        #choice-one-button,
        #choice-two-button {
            font-family: var(--font-family);
            font-size: 3em;
            display: none;
            z-index: 30;

            cursor: pointer;
        }

        #choice-one-button {
            position: absolute;
            right: 15%;
            top: 0%;
        }

        #choice-two-button {
            position: absolute;
            right: 0%;
            top: 0%;
        }

        #choose {
            font-family: var(--font-family);
            font-size: 2em;
            display: none;

            position: absolute;
            right: 35%;
            top: 0%;
        }

        #or {
            font-family: var(--font-family);
            font-size: 2em;
            display: none;

            position: absolute;
            right: 7%;
            top: 0%;
        }

        #then {
            font-family: var(--font-family);
            font-size: 2em;
            display: none;

            position: absolute;
            right: 14%;
            bottom: 0%;
        }

        #tags-section {
            font-family: var(--font-family);
            font-size: var(--font-size);

            width: 35%;
            height: 25%;

            position: absolute;
            top: 75%;
            left: 40%;

            background-color: #D9D9D9;

            overflow: auto;
        }

        #tag-container {
            margin: 0.3em;
        }

        /* MEDIA QUERIES*/

        /* Styles for screens with width 480px or less (commonly used for mobile devices in portrait mode)
                320px: This is the width of many mobile devices in portrait mode. */

        @media (max-width: 480px) {
            #title {
                display: none;
            }
            #folder-container {
                top: 20%;
                width: 76%;
                height: 32%;
            }
            /* .dark-mode #folder-container, .light-mode #folder-container {
                border: none;
            } */

            #addCategoryButton, #deleteButton, #renameButton, #changeColorButton {
                left: 20%;
            }
            #addTag, #deleteTag, #renameTag, #viewTree {
                left: 50%;
            }
            #tags-section {
                width: 76%; 
                height: 12%;

                top: 59%;
                left: 50%;
                transform: translateX(-50%);
                
                border: 2px solid black;

                align-items: flex-start;

                /*overflow: auto;*/
            }
            .tag {
                font-size: 0.7em;
            }
            #tree-backdrop {
                width: 70%;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
            }
            /* #view-log,
            #add-slice-button {
                z-index: 11;
            }

            #log {
                width: 70%;
            } */

        }

        /*480px: This is the width of many mobile devices in landscape mode.*/
        @media (min-width: 480px) and (max-width: 768px) {}

        /*768px: This is the width of most tablets in portrait mode.*/
        @media (min-width: 768px) and (max-width:992px) {}

        /*992px: This is the width of most tablets in landscape mode, and the minimum width for many desktop screens. */
        @media (min-width: 992px) and (max-width: 1200px) {}

        /*1200px: This is the width of many larger desktop screens.*/
        @media (min-width: 1200px) {}
    </style>
</head>

<body class="dark-mode">

    <!-- loading screen -->
    <div id="loading-screen">
        <div class="loader"></div>
        <p>Loading...</p>
    </div>

    <h2 id="title">Legend Customization</h2>

    <!-- overlay for main elements on page -->
    <div id="overlay">
        <div id="categories-label">Categories:</div>
        <div id="tags-label">Tags:</div>
        <div id="line1"></div>
        <div id="line2"></div>
    </div>

    <div id="blurred-overlay"></div>

    <div class="menu">
        <!-- MENU -->
        <button id="menu" class="button" class="dark-mode">
            <span class="menu-icon"><i class="fa-solid fa-bars"></i></span>Menu
        </button>

        <!-- NAV BAR -->
        <ul id="navigationbar" class="dark-mode nav-link-colors">
            <li><a href="index.html">Home</a></li>
            <li><a href="app.html" id="app-url">Today</a></li>
            <li><a href="data.html" id="data-url">Analytics</a></li>
            <li><a href="calendar.html" id="calendar-url">Calendar</a></li>
            <li><a href="settings.html" id="settings-url">Settings</a></li>

            <li><a href="#" id="mode-switcher" class="button-link">
                    <span class="dark-icon"><i class="fa-solid fa-toggle-on"></i></span>
                    <span class="light-icon hidden"><i class="fa-solid fa-toggle-off"></i></span>
                    <span class="mode-text">Dark Mode</span>
                </a></li>
            <li><a href="#" id="sign-in" class="button-link">Sign Out</a></li>
        </ul>
    </div>

    <div id="firebaseui-auth-container"></div>
    <div id="loader">Loading...</div>

    <!--<svg id="choice-one" width="800" height="700"></svg>-->
    <!-- <svg id="choice-three" width="800" height="700"></svg>
        <button id="choice-three-button">#3</button>
        <svg id="choice-two" width="800" height="700"></svg> -->


    <!--<div id="dropdown-container"></div> -->

    <div id="tree-backdrop">
        <svg id="tree-container" width="800" height="700"></svg>
    </div>

    <div id="folder-container">
        <div id="remake-dropdown-container"></div>
        <h3 id="choose">Choose</h3>
        <h3 id="or">or</h3>
        <h3 id="then">then</h3>
        <button id="choice-one-button">A</button>
        <button id="choice-two-button">B</button>
        <button id="submit-initialization">Submit</button>
    </div>

    <form id="categoryForm">
        <div id="add-category-name">Add Category</div>
        <button id="close-add-category">
            <img src="./close.png" alt="Close Icon" class="close-icon">
        </button>

        <div class="align-vertical">
            <label for="options"class="block-label">Select a parent for new category:</label>
            <select id="options"></select>

            <div class="name-horizontal">
                <label for="textInput" class="inline-label">Name:</label>
                <input type="text" id="textInput" required>
            </div>

            <div class="color-horizontal">
                <label for="colorInputForNewCategory" class="inline-label">Color:</label>
                <input type="color" id="colorInputForNewCategory" name="colorInputForNewCategory">

                <button type="submit" id="submit-category">Submit</button>
            </div>
        </div>
    </form>

    <form id="deleteForm">
        <div id="delete-category-name">Delete Category</div>
        <button id="close-delete-category">
            <img src="./close.png" alt="Close Icon" class="close-icon">
        </button>

        <select id="optionsForDelete"></select>

        <button type="submit" id="submit-delete-category">Submit</button>
    </form>

    <form id="renameForm">
        <div id="rename-category-name">Rename Category</div>
        <button id="close-rename-category">
            <img src="./close.png" alt="Close Icon" class="close-icon">
        </button>

        <div class="align-vertical">
            <select id="optionsForRename"></select>

            <div class="name-horizontal">
                <label for="renameValue" class="inline-label">Name:</label>
                <input type="text" id="renameValue" required>
            </div>
        </div>
        
        <button type="submit" id="submit-rename-category">Submit</button>
    </form>

    <form id="changeColorForm">
        <div id="change-color-name">Change Color</div>
        <button id="close-change-color">
            <img src="./close.png" alt="Close Icon" class="close-icon">
        </button>

        <div class="align-vertical">
            <select id="optionsForChangeColor"></select>

            <div class="color-horizontal">
                <label for="colorInputForChangeColor" class="long-inline-label">Select a color:</label>
                <input type="color" id="colorInputForChangeColor" name="colorInputForChangeColor">
            </div>
        </div>

        <button type="submit" id="submit-change-color">Submit</button>
    </form>

    <form id="addTagForm">
        <div id="add-tag-name">Add Tag</div>
        <button id="close-add-tag">
            <img src="./close.png" alt="Close Icon" class="close-icon">
        </button>

        <br>

        <div class="name-horizontal">
            <label for="tagName" class="inline-label">Name:</label>
            <input type="text" id="tagName" required>
        </div>

        <br> 

        <button type="submit" id="submit-add-tag">Submit</button>
    </form>

    <form id="deleteTagForm">
        <div id="delete-tag-name">Delete Tag</div>
        <button id="close-delete-tag">
            <img src="./close.png" alt="Close Icon" class="close-icon">
        </button>

        <br>

        <select id="tagOptionsToDelete"></select>

        <button type="submit" id="submit-delete-tag">Submit</button>
    </form>

    <form id="renameTagForm">
        <div id="renamge-tag-name">Rename Tag</div>
        <button id="close-rename-tag">
            <img src="./close.png" alt="Close Icon" class="close-icon">
        </button>

        <br>
        
        <div class="align-vertical">
            <select id="tagOptionsForRename"></select>

            <div class="name-horizontal">
                <label for="tagRenameValue" class="inline-label">Name:</label>
                <input type="text" id="tagRenameValue" required>
            </div>
        </div>

        <button type="submit" id="submit-rename-tag">Submit</button>
    </form>

    <!--<button id="addCategoryButton" class="dark-mode">Add Category</button> -->
    <button id="addCategoryButton" class="dark-mode">Add Category</button>
    <div id="dropdownContainer"></div>

    <button id="deleteButton" class="dark-mode">Delete</button>
    <button id="renameButton" class="dark-mode">Rename</button>
    <button id="changeColorButton" class="dark-mode">Change Color</button>

    <button id="addTag" class="dark-mode">Add Tag</button>
    <button id="deleteTag" class="dark-mode">Delete Tag</button>
    <button id="renameTag" class="dark-mode">Rename Tag</button>

    <button id="viewTree" class="dark-mode">View Tree</button>

    <div id="tags-section">
        <div id="tag-container"></div>
    </div>

    <script src='customize.js' type="module"></script>

</body>

</html>