<!DOCTYPE html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>chart.js</title>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Chivo|Concert One|Chewy|Oregano|Rancho|Comic Neue|Pacifico|Inter">
    <link rel="stylesheet" href="minutiae.css">

    <script src="https://kit.fontawesome.com/bd7b8bc6e4.js" crossorigin="anonymous"></script>
    <style>
        /* CSS for overlay - mobile is default */
        #overlay {
            position: absolute;
            width: 88%;
            height: 80%;
            top: 12%;
            left: 6%;

            background-color: #FFFFFF;
            border: 2px solid #000000;

            z-index: -1;
        }

        /* CSS for blurred overlay - for when elements are opened */
        #blurred-overlay {
            width: 100%;
            height: 90%;

            position: absolute;
            top: 10%;

            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(8px);
            
            z-index: 8;
            display: none;
        }

        /* CSS for ellipsis - mobile is default */
        #ellipsis {
            font-size: 3em;

            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: 70%;

            z-index: 1;
        }

        /* CSS for legend - mobile is default */
        #legend {
            width: 78%;
            height: 14%;
            position: absolute;
            left: 11%;
            top: 76%;

            background-color: #F7F0F5;
            border: 2px solid #000000;

            overflow-y: scroll;

            display: flex;
            flex-wrap: wrap;
            
            z-index: 1;
        }

        .legend-entry {
            display: flex;
            flex-basis: calc(50% - 5px); /* Two items per row with spacing */
            align-items: center; 
            flex: 0 0 calc(50% - 5px);
        }

        .legend-icon {
            font-size: 1.1em;
        }

        .legend-label {
            font-family: var(--font-family);
            font-size: 0.9em;
            white-space: nowrap;
        }

        /* CSS for close icons and names of form/log/notes */
        #close-log, #close-form {
            position: absolute;
            right: 0;
            top: 0;

            border: none;
            background-color: transparent;
            cursor: pointer;
        }
        .close-icon {
            width: 32px;
            height: 32px;
        }
        #log-name, #form-name {
            height: 20%;
            font-size: 1.5em;
            padding: 0.3em;
        }

        /* CSS for log */
        #log {
            font-family: var(--font-family), sans-serif;

            width: 23vw;
            height: 65vh;

            position: absolute;
            left: 2%;
            top: 17%;

            margin-right: 1em;

            overflow-y: auto;
            
            cursor: auto;
            color: black;

            z-index: 9;
        }

        .dark-mode #log {
            background-color: black;
        }

        .light-mode #log {
            background-color: #D9D9D9;
            border: 2px solid black;
        }

        /* CSS for log button */
        #view-log {
            font-family: var(--font-family), sans-serif;
            font-size: var(--font-size);

            position: absolute;
            left: 0;
            bottom: 0;

            padding: 0.3em;
            margin: 0.5em; /* 1em */

            z-index: 1;
        }

        /* CSS for log elements */
        .log-entry {
            font-family: var(--font-family);

            width: 100%;

            padding: 10px;
            /* margin-top: 5px; */
            /* margin-bottom: 5px; */
        }

        .dark-mode .log-entry {
            border-bottom: 2px solid white;
        }

        .light-mode .log-entry {
            border-bottom: 2px solid black;
        }

        .core-div {
            display: flex;
            align-items: center;
            justify-content: space-between;

            width: 90%;
        }

        .log-entry .log-label {
            font-size: 0.9em;
        }

        .overflow {
            animation: scrollHorizontally 3s linear infinite;
            display: inline-block;
        }

        .overflow-container {
            width: 40%;
            overflow: hidden;
            white-space: nowrap;
        }

        @keyframes scrollHorizontally {
            0% {
                transform: translateX(20%);
            }   
            100% {
                transform: translateX(-65%);
            }
        }

        .log-entry .log-time-label {
            font-size: 0.7em;
            position: absolute;
            left: 55%;
        }

        .log-entry .log-description {
            font-size: 0.8em;
        }

        .log-entry .tag {
            font-size: 0.7em;
            margin-top: 0.2em;
        }

        .log-edit {
            font-family: var(--font-family), sans-serif;
            font-size: 0.7em;

            position: absolute;
            right: 15%;
            bottom: 19%;

            padding: 0.3em;
            border: 2px solid #000000;
            box-shadow: 0 4px 4px 0 #000000;
            
            cursor: pointer;
        }

        .log-delete {
            font-family: var(--font-family), sans-serif;
            font-size: 0.7em;

            position: absolute;
            right: 35%;
            bottom: 19%;

            padding: 0.3em;
            border: 2px solid #000000;
            box-shadow: 0 4px 4px 0 #000000;
            
            cursor: pointer;
        }

        .log-more-options {
            font-size: 1em;
            position: absolute;
            right: 4%;
            border: none;
            padding: 0;
            cursor: pointer;
            background-color: transparent;
        }

        /* CSS for forms */
        #multi-step-form,
        #one-step-form {
            font-family: var(--font-family), sans-serif;

            width: 18vw;
            height: 40vh;

            position: absolute;
            right: 0;
            top: 35%;

            margin-right: 1em;

            z-index: 9;

            color: black;
        }

        .dark-mode #multi-step-form, .dark-mode #one-step-form {
            background-color: black;
            border: 2px solid white;
        }
        .light-mode #multi-step-form, .light-mode #one-step-form {
            background-color: #D9D9D9;
            border: 2px solid black;
        }

        .dark-mode #multi-step-form,
        .dark-mode #one-step-form,
        .dark-mode #log {
            border: 2px solid white;
        }

        .light-mode #multi-step-form,
        .light-mode #one-step-form,
        .light-mode #log {
            border: 2px solid black;
        }

        /* CSS for multi-step-form elements */
        #category,
        #subcategory,
        #tag-label,
        #description-label,
        #time-label {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #subcategory-input,
        #tag-input,
        #description-input,
        #starting,
        #start-time-input,
        #end-time-input {
            margin-top: 3vh;
        }

        /* tag container exists in multi-step form */
        #tag-container {
            position: absolute;
            right: 0%;
        }

        /* CSS for one-step-form */
        .align-vertical {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        
        .time-horizontal {
            display: flex;
            align-items: center;

            width: 100%;

            margin-bottom: 3%;
        }

        .category-horizontal {
            display: flex;
            align-items: center;
            
            width: 100%;

            margin-bottom: 3%;
        }

        .description-horizontal {
            display: flex;
            align-items: center;

            width: 100%;
        }

        .inline-label {
            display: inline-block;  

            font-size: 0.8em;

            text-indent: 10px;

            width: 80px;
        }

        #one-step-dropdown {
            display: inline-block;
            width: 70%;

            font-size: 0.8em;
        }

        #one-step-dropdown,
        #submit-inputs {
            display: none;
        }

        #start-time-label-for-one-step-form {
            font-size: 0.8em;

            text-indent: 10px;
        }

        #end-time-label-for-one-step-form {
            font-size: 0.8em;
        } 

        #start-time-input-for-one-step-form {
            width: 22%;

            border: 1px solid black;

            font-size: 0.8em;
        }

        #end-time-input-for-one-step-form {
            width: 22%;

            border: 1px solid black;

            font-size: 0.8em;
        }

        /* #end-time-label-for-one-step-form {
            position: absolute;
            right: 5%;
        } */

        #description-input-for-one-step-form {
            width: 70%;

            resize: none;

            font-size: 0.8em;
        }

        .last-line {
            display: flex;
            align-items: center;
        }

        #tag-dropdown-btn {
            /* position: absolute;
            top: 90%; */

            margin-left: 10px;

            padding: 0.3em;
            border: 2px solid #000000;
            box-shadow: 0 4px 4px 0 #000000;
            cursor: pointer;
            font-size: 0.7em;
        }

        .tag-dropdown-content {
            min-width: 200px;

            display: none;

            background-color: #f9f9f9;

            padding: 10px;
            border: 1px solid #ddd;

            position: absolute;
            top: 70%;
            left: 20%;
        }

        .tag-dropdown-content label {
            font-size: 14px;

            display: block; /*put inline-block if you want the options to be horizontal*/

            color: black;

            margin-bottom: 5px;
        }

        .tag-dropdown-content label input {
            margin-right: 5px;
        }

        #submit-inputs {
            margin-left: 60%;

            padding: 0.3em;
            border: 2px solid #000000;
            box-shadow: 0 4px 4px 0 #000000;
            cursor: pointer;
            font-size: 0.7em;
        }

        /* CSS for add button */
        #add-slice-button {
            font-family: var(--font-family), sans-serif;
            font-size: var(--font-size);

            position: absolute;
            right: 0;
            bottom: 0;

            padding: 0.3em;
            margin: 0.5em; /* 1em */
        }

        /* CSS for all form buttons*/
        #skip,
        #back-button,
        #add-category,
        #next,
        #add-subcategory,
        #add-tag,
        #next-in-tag,
        #submit-description,
        #start-time-input,
        #end-time-input,
        #submit-time-inputs,
        #submit-inputs,
        #start-time-input-for-one-step-form,
        #end-time-input-for-one-step-form,
        #tag-dropdown-btn {
            font-family: var(--font-family), sans-serif;
        }

        /* hidden and visible classes for multi-step form */
        .hidden {
            display: none;
        }

        .visible {
            display: block;
        }

        /* CSS for clock */
        .clock {
            font-family: var(--font-family), sans-serif;
            font-size: 2em;
            line-height: 1.5em;

            position: absolute;
            top: 0;
            right: 0;

            padding: 0.3em;

            z-index: 1;
        }

        /* Adding dark/light mode to buttons' borders */
        /* .dark-mode #add-slice-button,
        .dark-mode #view-log,
        .dark-mode #edit,
        .dark-mode #delete {
            /* border: 0.2em solid white; 
            border: none;
        }

        .light-mode #add-slice-button,
        .light-mode #view-log,
        .light-mode #edit,
        .light-mode #delete {
            /* border: 0.2em solid black; 
            border: none;
        } */

        /* CSS for centered date */
        #date {
            /*font-family: var(--font-family), sans-serif; */
            font-size: 3em;

            font-family: "Inter";
            /*color: rgba(0, 0, 0, 0.5);

            text-shadow: 0px 0px 5px #333532; */

            position: absolute;
            left: 38%;  
            top: 0;

            background-color: transparent;
        }
        #dayOfWeek {
            font-size: 1.8em;
            font-family: "Inter";
            position: absolute;
            left: 40%;
            top: 8%;

            background-color: transparent;
        }

        /* CSS for left and right charts */
        #chartLeft {
            position: absolute;
            left: 10%;
            top: 44%;
        }

        #chartRight {
            position: absolute;
            right: 23%;
            top: 44%;
        }

        /* CSS for center chart */
        #chartId {
            height: 500px;
            width: 500px;

            /* height: 250px;
            width: 250px; */

            position: absolute;
            top: 15%;
            left: 25%;

            z-index: 5;

            pointer-events: auto;
        }

        /* CSS for #canvas */
        #canvas-modern,
        #canvas-traditional, #canvas-minimal {

            position: absolute;
            left: 25%;
            top: 15%;
            /* move the #canvas, #chartId, and .inner-clock-face TOGETHER */
        }

        /* CSS for the hands of the clock */
        .inner-clock-face {
            width: 500px;
            height: 500px;

            position: absolute;
            left: 25%;
            top: 15%;

            background: transparent;
            /* transparent */
            -webkit-border-radius: 100%;
            -moz-border-radius: 100%;
            border-radius: 100%;

            z-index: 8;

            pointer-events: none;

            /* border: 7px solid #282828;
            box-shadow: -4px -4px 10px rgba(67,67,67,0.5),
                inset 4px 4px 10px rgba(0,0,0,0.5),
                inset -4px -4px 10px rgba(67,67,67,0.5),
                4px 4px 10px rgba(0,0,0,0.3); */
        }

        /* center dot */
        .inner-clock-face::before {
            width: 16px;
            height: 16px;

            content: '';

            position: absolute;
            top: 50%;
            left: 50%;

            border: 2px solid darkslategray;
            border-radius: 18px;

            margin-left: -9px;
            margin-top: -6px;

            background: darkslategray;
            /*#4d4b63*/

            z-index: 11;
        }

        .hand {
            width: 20%;
            /* 50% */
            height: 6px;

            background: black;

            position: absolute;
            right: 50%;
            top: 50%;

            border-radius: 6px;

            transform-origin: 100%;
            /* 100% */
            transform: rotate(90deg);
            transition-timing-function: cubic-bezier(0.1, 2.7, 0.58, 1);

            z-index: 10;
        }

        #hour-hand {
            width: 25%;
            /* width: 20% */

            z-index: 10;
        }

        #min-hand {
            height: 3px;
            width: 39%;
            /* height: 3px; width: 20%; */

            z-index: 10;
        }

        /* CSS for pie chart arrows */
        .button-icon {
            cursor: pointer;
        }

        /* CSS class for sliding out to the left animation */
        .slide-out-left {
            animation: slideOutLeftAnimation 0.5s ease-out;
        }

        /* CSS class for sliding out to the right animation */
        .slide-out-right {
            animation: slideOutRightAnimation 0.5s ease-out;
        }

        /* CSS class for sliding in from the left animation */
        .slide-in-left {
            animation: slideInLeftAnimation 0.5s ease-out;
        }

        /* CSS class for sliding in from the right animation */
        .slide-in-right {
            animation: slideInRightAnimation 0.5s ease-out;
        }

        @keyframes slideOutLeftAnimation {
            0% {
                transform: translate(-50%, -50%);
            }

            100% {
                transform: translate(calc(-50% - 100px), -50%);
            }
        }

        @keyframes slideOutRightAnimation {
            0% {
                transform: translate(-50%, -50%);
            }

            100% {
                transform: translate(calc(50% + 100px), -50%);
            }
        }

        @keyframes slideInLeftAnimation {
            0% {
                transform: translate(calc(-50% - 100px), -50%);
            }

            100% {
                transform: translate(-50%, -50%);
            }
        }

        @keyframes slideInRightAnimation {
            0% {
                transform: translate(calc(50% + 100px), -50%);
            }

            100% {
                transform: translate(-50%, -50%);
            }
        }

        /*.dark-mode #day-back:hover,
        .dark-mode #day-forward:hover {
            color: lightgray;
            text-shadow: 2px 2px 4px white; 
        }
        .light-mode #day-back:hover,
        .light-mode #day-forward:hover {
            color: darkslategray;
            text-shadow: 2px 2px 4px black;
        }  */

        /* MEDIA QUERIES*/

        /* Styles for screens with width 480px or less (commonly used for mobile devices in portrait mode)
                320px: This is the width of many mobile devices in portrait mode. */

        @media (max-width: 480px) {

            #view-log, #add-slice-button {
                z-index: 11;
            }

            #log {
                width: 86%;
                height: 26%;

                top: 12.5%;
                left: 50%;
                transform: translateX(-50%);
            }
            #multi-step-form, #one-step-form {
                width: 86%;
                height: 26%;

                top: 40%;
                left: 50%;
                transform: translateX(-50%);
            } 
        }

        /*480px: This is the width of many mobile devices in landscape mode.*/
        @media (min-width: 480px) and (max-width: 768px) {}

        /*768px: This is the width of most tablets in portrait mode.*/
        @media (min-width: 768px) and (max-width:992px) {}

        /*992px: This is the width of most tablets in landscape mode, and the minimum width for many desktop screens. */
        @media (min-width: 992px) and (max-width: 1200px) {}

        /*1200px: This is the width of many larger desktop screens.*/
        @media (min-width: 1200px) {}
    </style>
</head>

<body class="dark-mode">

    <!-- loading screen -->
    <div id="loading-screen">
        <div class="loader">
            <p>Loading...</p>
        </div>
    </div>

    <!-- CHART -->
    <canvas id="chartId" aria-label="chart"></canvas>
    <canvas id="chartLeft" aria-label="chart" class="side-chart" height="100px" width="100px"></canvas>
    <!--add dark mode class later -->
    <canvas id="chartRight" aria-label="chart" class="side-chart" height="100px" width="100px"></canvas>
    <!--add dark mode class later -->

    <!-- ANALOG CLOCK -->
    <canvas id="canvas-modern" width="500px" height="500px"></canvas>
    <canvas id="canvas-traditional" width="500" height="500"></canvas>
    <canvas id="canvas-minimal" width="500" height="500"></canvas>

    <!-- HANDS -->
    <div class="inner-clock-face" id="clock-face">
        <div class="hand" id="hour-hand"></div>
        <div class="hand" id="min-hand"></div>
    </div>

    <!-- top right -->
    <div class="clock" id="clock"></div>

    <div id="firebaseui-auth-container"></div>
    <!-- <div id="loader">Loading...</div> -->

    <!-- top left -->
    <div class="menu">
        <!-- MENU -->
        <button id="menu" class="button" class="dark-mode">
            <span class="menu-icon"><i class="fa-solid fa-bars"></i></span>Menu
        </button>

        <!-- NAV BAR -->
        <ul id="navigationbar" class="dark-mode nav-link-colors"> 
            <li><a href="index.html">Home</a></li>
            <li><a href="data.html">Analytics</a></li>
            <li><a href="calendar.html">Calendar</a></li>
            <li><a href="customize.html">My Legend</a></li>
            <li><a href="settings.html">Settings</a></li>

            <li><a href="#" id="mode-switcher" class="button-link">
                    <span class="dark-icon"><i class="fa-solid fa-toggle-on"></i></span>
                    <span class="light-icon hidden"><i class="fa-solid fa-toggle-off"></i></span>
                    <span class="mode-text">Dark Mode</span>
                </a></li>
            <li><a href="#" id="sign-in" class="button-link">Sign Out</a></li>
        </ul>
    </div>

    <!-- DATE -->
    <div id="date" class="dark-mode"></div> 
    <div id="dayOfWeek" class="dark-mode"></div>

    <!-- arrows -->
    <i class="fa-solid fa-caret-left button-icon dark-mode" id="day-back"
        style="font-size: 5em; position: absolute; top: 45%; left: 20%;"></i>
    <i class="fa-solid fa-caret-right button-icon dark-mode" id="day-forward"
        style="font-size: 5em; position: absolute; top: 45%; right: 33%;"></i>

    <!-- FORM -->
    <form id="one-step-form" style="display: none;">

        <div id="form-name">Form</div>
        <button id="close-form">
            <img src="./close.png" alt="Close Icon" class="close-icon">
        </button>

        <div class="align-vertical">
            <div class="category-horizontal">
                <label for="one-step-dropdown" id="one-step-dropdown-label" class="inline-label">Categories:</label>
                <select id="one-step-dropdown" class="align-vert"></select>
            </div>
            
            <div class="time-horizontal">
                <label for="start-time-input-for-one-step-form" id="start-time-label-for-one-step-form" class="inline-label">Start Time:</label>
                <input type="time" id="start-time-input-for-one-step-form" name="start-time" class="align-vert">
                <label for="end-time-input-for-one-step-form" id="end-time-label-for-one-step-form" class="inline-label">End Time:</label>
                <input type="time" id="end-time-input-for-one-step-form" name="end-time">
            </div>

            <div class="description-horizontal">
                <label for="description-input-field" id="description-label" class="inline-label">Description:</label>
                <div id="description-input-for-one-step-form" class="align-vert"></div>
            </div>
            
        </div>

        <div class="last-line">
            <!--<label for="tag-dropdown" id="tag-dropdown-label">Tags:</label>-->
            <div class="tag-div">
                <button id="tag-dropdown-btn">Tags
                    <i class="fa-solid fa-tag" style="color: #000000;"></i>
                </button>
                <div id="tag-dropdown-content" class="tag-dropdown-content"></div>
            </div>

            <button id="submit-inputs">Submit</button>
        </div>
        

    </form>

    <form id="multi-step-form" style="display: none;">

        <div id="close"><i class="fa-solid fa-xmark"
                style="font-size: 2em; position: absolute; right: 3%; top: 3%;"></i></div>
        <button id="back-button" style="display: none; position: absolute; left: 3%; top: 3%;">Back</button>
        <button id="skip" style="display: none; position: absolute; right: 3%; bottom: 3%;">Skip</button>

        <!-- category section (0-3) -->
        <div id="category-section" class="step hidden">
            <div id="category" class="step hidden">CATEGORY:</div>
            <div id="category-input" class="step hidden"></div>
        </div>
        <button id="add-category" class="step hidden">+ New Category</button>

        <!-- subcategory section (4-8)-->
        <div id="subcategory-section" class="step hidden">
            <div id="subcategory" class="step hidden">SUBCATEGORY:</div>
            <div id="subcategory-input" class="step hidden"></div>
        </div>
        <button id="next" class="step hidden">Next</button>
        <button id="add-subcategory" class="step hidden">+ New Subcategory</button>

        <!-- tag section (9-14) -->
        <div id="tag-section" class="step hidden">
            <div id="tag-label" class="step hidden">TAG:</div>
            <div id="tag-input" class="step hidden"></div>
        </div>
        <div id="tag-container" class="step hidden"></div>
        <button id="next-in-tag" class="step hidden">Next</button>
        <button id="add-tag" class="step hidden">+ New Tag</button>

        <!-- description section (15-18) -->
        <div id="description-section" class="step hidden">
            <div id="description-label" class="step hidden">DESCRIPTION:</div>
        </div>
        <div id="description-input" class="step hidden"></div>
        <button id="submit-description" class="step hidden">Enter</button>

        <!-- 19-25 -->
        <div id="time-input-section" class="step hidden">
            <div id="time-label" class="step hidden">TIME: </div>
        </div>
        <label for="start-time-input" id="start-time-label" class="step hidden">Start Time:</label>
        <!-- these steps are out of the <div> because one step form utilizes them-->
        <input type="time" id="start-time-input" name="start-time" class="step hidden">
        <label for="end-time-input" id="end-time-label" class="step hidden">End Time:</label>
        <input type="time" id="end-time-input" name="end-time" class="step hidden">
        <button id="submit-time-inputs" class="step hidden">Enter</button>

        <br>

    </form>

    <!-- Bottom Buttons -->
    <button id="add-slice-button" class="button">Add</button> <!-- put "class="dark-mode" back -->
    
    <button id="view-log" class="button">Log</button> <!-- put "class="dark-mode" back -->
    <div id="log" style="display:none;">
        <div id="log-name">Log</div>
        <button id="close-log">
            <img src="./close.png" alt="Close Icon" class="close-icon">
        </button>
    </div>
    <!-- <img src="/images/close.png" alt="Close Icon"> -->

    <!-- overlay for main elements on page -->
    <div id="overlay"></div>

    <!-- blurred overlay when elements are opened -->
    <div id="blurred-overlay"></div>

    <!-- ellipsis icon -->
    <div id="ellipsis">
        <i class="fas fa-ellipsis" style="color: #433633;"></i>
    </div>

    <!-- legend -->
    <div id="legend"></div>

    <!-- CHARTS SCRIPT -->
    <script type="module" src="app.js"></script>
</body>

</html>